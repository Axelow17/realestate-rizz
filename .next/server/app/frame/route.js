(()=>{var e={};e.id=283,e.ids=[283],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},4789:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>v,routeModule:()=>g,serverHooks:()=>b,workAsyncStorage:()=>y,workUnitAsyncStorage:()=>w});var o={};r.r(o),r.d(o,{GET:()=>m,POST:()=>f,dynamic:()=>h});var n=r(2412),a=r(4293),s=r(4147),i=r(7856),l=r(2741),u=r(3272),c=r(1384);let d=process.env.BASE_URL||"http://localhost:3000",h="force-dynamic";async function p(e){try{let t=await e.json().catch(()=>null),r=t?.untrustedData?.fid??t?.fid??null;if(!r)return null;return Number(r)}catch(e){return console.error("Error parsing fid:",e),null}}async function f(e){let t=await p(e);if(!t)return i.NextResponse.json({message:"Missing fid"},{status:400});let r=await (0,l.I)(t);if(!r)return i.NextResponse.json({message:"User not found in Neynar"},{status:404});let o=await (0,u.rJ)({fid:t,username:r.username,followers:r.follower_count,following:r.following_count}),n=`${d}/api/house-image?username=${encodeURIComponent(o.username)}&houseType=${encodeURIComponent(o.houseType)}`,a=`${d}/share?fid=${t}`,s=`My onchain house is: "${o.houseType}" at ${o.addressLine} â€” price vibes: ${o.absurdPrice} ðŸ¡ #RealEstateRizz`,h=(0,c.I)(s,a),f=[`@${o.username}`,`ðŸ¡ House type: ${o.houseType}`,`ðŸ“ Address: ${o.addressLine}`,`ðŸ’¸ Price vibes: ${o.absurdPrice}`,`ðŸ“Š Investment: ${o.investmentScore}/10 â€“ ${o.investmentNote}`,`âœ¨ Vibe: ${o.vibeLabel}`,`âš ï¸ Risk: ${o.riskLabel}`];return i.NextResponse.json({image:n,imageAlt:o.tagline,text:f.join("\n"),buttons:[{label:"\uD83D\uDD01 Re-roll my house",action:"post",target:`${d}/frame`},{label:"\uD83D\uDCE4 Open share page",action:"link",target:a},{label:"\uD83D\uDCDD Cast this house",action:"link",target:h},{label:"\uD83C\uDFC6 View leaderboard",action:"link",target:`${d}/leaderboard`}]})}async function m(){return i.NextResponse.json({message:"Use POST from Farcaster Frame to get result."})}let g=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/frame/route",pathname:"/frame",filename:"route",bundlePath:"app/frame/route"},resolvedPagePath:"D:\\realestate-rizz\\app\\frame\\route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:y,workUnitAsyncStorage:w,serverHooks:b}=g;function v(){return(0,s.patchFetch)({workAsyncStorage:y,workUnitAsyncStorage:w})}},5303:()=>{},7688:(e,t,r)=>{"use strict";function o(e){return e[Math.floor(Math.random()*e.length)]}function n(e){let t,r,n,a,s;let i=e.followers/Math.max(e.following,1),l="mid";i<.5?l="low":i>2&&(l="high"),"low"===l?(t=o(["Shoebox rental with borrowed Wi-Fi","3\xd73 boarding room that smells like air freshener","Tiny row house next to the train tracks","Budget studio above a noisy street food stall"]),r=o(["Rp 7.2Mâ€¦ kidding, Rp 7.2M in emotional damage, Rp 7.2M vibes only.","Rp 15M including 1 free water dispenser and instant noodles.","Rp 3.5M + two boxes of instant noodles as deposit.","Rp 9.9M flash sale, only today (emotionally)."]),n=2+Math.floor(3*Math.random()),a="High chance of flooding and feelings.",s=o(["High emotional risk, low financial upside.","More risk from neighbors than from the market.","Main hazard: leaks, drama, and group chats.","Beware: thin walls, thick emotions."])):"high"===l?(t=o(["3-floor minimalist mansion just for â€˜healingâ€™","Crypto bro penthouse with no realized profit","Bali-style villa but somehow still in the suburbs","Skyline loft with plants that cost more than rent"]),r=o(["Rp 7.2B because your aura is high risk, high return.","Rp 12B, but youâ€™ll be paying it off in your next life.","Rp 4.5B, discount applied for overthinking.","Rp 9B including private â€˜donâ€™t text my exâ€™ security system."]),n=7+Math.floor(4*Math.random()),a="Good for long-term value, bad for soft quitting.",s=o(["High upside, high drama, billionaire neighbor potential.","Volatile like crypto, but at least you can live in it.","Luxury returns, influencer problems.","Big gains, bigger HOA group chats."])):(t=o(["Type 21++ but renovation failed halfway","Minimalist cluster, maximalist mortgage","Corner house but neighbors own the parking","Starter home with a forever â€˜under constructionâ€™ balcony"]),r=o(["Rp 420M because youâ€™re loyal but over-decorate.","Rp 690M, includes a budget for changing your mind.","Rp 350M, minus repainting the pastel walls.","Rp 500M, but the neighborhood group chat is priceless."]),n=3+Math.floor(4*Math.random()),a="Medium chance of flooding, 100% chance of group chat drama.",s=o(["Moderate risk: flood of feelings once a year.","Safe for living, dangerous for online shopping.","Stable investment, unstable sleep schedule.","Risk: accidental house parties every weekend."]));let u=o(["Base City","Onchain Heights","Warpcast Bay","Layer2 Valley","Gas-Saver Town","Emoji District"]),c=o(["Soft-Launch District","Overthinkerâ€™s Corner","Low-Profile High-Drama Block","Semi-Rich but Tired Avenue","Always-Renovating Street","Late-Rent Lane"]),d=1+Math.floor(200*Math.random()),h=o(["\uD83C\uDFE1","\uD83C\uDF06","\uD83C\uDF03","\uD83C\uDF34","\uD83D\uDEF8","âœ¨"]),p=`${d} ${c} ${h}, ${u}`,f=o(["Main character energy","Side quest enjoyer","Low maintenance, high chaos","Cozy but emotionally expensive","Minimalist aesthetic, maximalist feelings","Air fryer and LED strip supremacy"]),m=`House version of @${e.username}: ${t}`;return{username:e.username,houseType:t,absurdPrice:r,investmentScore:n,investmentNote:a,tagline:m,addressLine:p,city:u,neighborhood:c,vibeLabel:f,riskLabel:s}}r.d(t,{$:()=>n})},2741:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});let o=process.env.NEYNAR_API_KEY;async function n(e){try{let t=await fetch(`https://api.neynar.com/v2/farcaster/user?fid=${e}`,{headers:{api_key:o},cache:"no-store"});if(!t.ok)return console.error("Neynar error:",t.status,await t.text()),null;let r=await t.json(),n=r.user||r.result?.user||r;return{fid:e,username:n.username,follower_count:n.follower_count??n.followerCount??0,following_count:n.following_count??n.followingCount??0,pfp_url:n.pfp_url||n.pfp?.url}}catch(e){return console.error("Error fetching user from Neynar:",e),null}}o||console.warn("NEYNAR_API_KEY is not set. Neynar calls will fail.")},1384:(e,t,r)=>{"use strict";function o(e,t){let r=new URLSearchParams;return r.set("text",e),r.append("embeds[]",t),`https://warpcast.com/~/compose?${r.toString()}`}r.d(t,{I:()=>o})},3272:(e,t,r)=>{"use strict";r.d(t,{Zp:()=>u,ig:()=>i,kC:()=>l,rJ:()=>s});var o=r(7688);let n=new Map,a=new Map;async function s(e){let t=String(e.fid),r=n.get(t);if(r)return r;let a={...(0,o.$)({username:e.username,followers:e.followers,following:e.following}),fid:e.fid,createdAt:new Date().toISOString()};return n.set(t,a),a}async function i(e){return n.get(String(e))??null}async function l(e,t){if(e===t)return{ok:!1,reason:"You cannot vote for your own house."};let r=String(t);if(!n.has(r))return{ok:!1,reason:"Target house does not exist yet."};let o=a.get(r);return(o||(o=new Set,a.set(r,o)),o.has(e))?{ok:!1,reason:"You already voted for this house."}:(o.add(e),{ok:!0,voteCount:o.size})}async function u(e=10){let t=[];for(let[e,r]of n.entries()){let o=Number(e),n=function(e){let t=a.get(String(e));return t?t.size:0}(o);n<=0||t.push({fid:o,username:r.username,houseType:r.houseType,absurdPrice:r.absurdPrice,voteCount:n,createdAt:r.createdAt})}return t.sort((e,t)=>t.voteCount!==e.voteCount?t.voteCount-e.voteCount:e.createdAt.localeCompare(t.createdAt)),t.slice(0,e)}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[267,814],()=>r(4789));module.exports=o})();